<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>金山文档实现掘金自动签到</title>
      <link href="/2023/07/12/jin-shan-wen-dang-shi-xian-jue-jin-zi-dong-qian-dao/"/>
      <url>/2023/07/12/jin-shan-wen-dang-shi-xian-jue-jin-zi-dong-qian-dao/</url>
      
        <content type="html"><![CDATA[<h1 id="掘金自动领福利：无需部署，无需服务器，实现掘金每日自动签到"><a href="#掘金自动领福利：无需部署，无需服务器，实现掘金每日自动签到" class="headerlink" title="掘金自动领福利：无需部署，无需服务器，实现掘金每日自动签到"></a>掘金自动领福利：无需部署，无需服务器，实现掘金每日自动签到</h1><p>本教程介绍了如何通过金山文档网页版实现掘金每日自动签到功能。</p><h2 id="一、访问金山文档"><a href="#一、访问金山文档" class="headerlink" title="一、访问金山文档"></a>一、访问金山文档</h2><p>进入金山文档网页版： <a href="https://www.kdocs.cn/%E3%80%82">https://www.kdocs.cn/。</a></p><h2 id="二、创建空表格和脚本"><a href="#二、创建空表格和脚本" class="headerlink" title="二、创建空表格和脚本"></a>二、创建空表格和脚本</h2><p>随便新建一个空表格，点击【效率】-【高级开发】-【AirScript脚本编辑器】：</p><p><img src="/../medias/featureimages/1.png"></p><p>点击【创建脚本】-【文档共享脚本】<br><img src="/../medias/featureimages/2.png"></p><p>点击【服务】-【添加服务】，将网络API添加<br><img src="/../medias/featureimages/3.png"></p><h2 id="三、编辑脚本"><a href="#三、编辑脚本" class="headerlink" title="三、编辑脚本"></a>三、编辑脚本</h2><pre class="line-numbers language-none"><code class="language-none">const JUEJIN_COOKIE = "你的掘金cookie";// 抽奖const drawFn = async () =&gt; {  console.log('drawFn')  // 查询今日是否有免费抽奖机会  const todayRes = HTTP.fetch('https://api.juejin.cn/growth_api/v1/lottery_config/get', {    headers: {      cookie: JUEJIN_COOKIE    },    method: 'GET',    credentials: 'include'  });  const today = todayRes.json()  if (today.err_no !== 0) return console.warn('免费抽奖失败！');  if (today.data.free_count === 0) return console.log('今日已经免费抽奖！');  // 免费抽奖  const drawRes = HTTP.fetch('https://api.juejin.cn/growth_api/v1/lottery/draw', {    headers: {      cookie: JUEJIN_COOKIE    },    method: 'POST',    credentials: 'include'  });  const draw = drawRes.json();  if (draw.err_no !== 0) return console.warn('免费抽奖失败！');  [3, 4].includes(draw.data.lottery_type) ? alert(`恭喜抽到：${draw.data.lottery_name}`) : console.log(`恭喜抽到：${draw.data.lottery_name}`);};// 沾一沾const dipLucky = async () =&gt; {  // 获取列表  const lukyRes = HTTP.fetch('https://api.juejin.cn/growth_api/v1/lottery_history/global_big', {    headers: {      cookie: JUEJIN_COOKIE    },    method: 'POST',    credentials: 'include'  });  const luky = lukyRes.json();  const { err_no, data } = luky  if(err_no !== 0) {    console.warn('获取沾一沾列表失败')    return;  }  console.warn('沾一沾列表获取成功')  const lottery_history_id = data.lotteries[0].history_id  // 开沾  const dipRes = HTTP.fetch('https://api.juejin.cn/growth_api/v1/lottery_lucky/dip_lucky', {    headers: {      cookie: JUEJIN_COOKIE    },    method: 'POST',    credentials: 'include',    body: `{lottery_history_id: ${lottery_history_id}}`  });  const dip = dipRes.json();  if(dip.err_no !== 0) {    console.warn('沾一沾失败')    return  }  if(dip.data.has_dip) {    console.log('今日沾过了~')  } else {    console.log('沾一沾成功')  }}// 收集bug 待测试const bugFix = async () =&gt; {  // bug list  // https://api.juejin.cn/user_api/v1/bugfix/not_collect?aid=2608&amp;uuid=7069996992693732879  const bugsRes = HTTP.fetch('https://api.juejin.cn/user_api/v1/bugfix/not_collect', {    headers: {      cookie: JUEJIN_COOKIE    },    method: 'POST',    credentials: 'include'  });  const bugs = bugsRes.json();  console.log(bugs)  // but fix  // { bug_time: 1658678400, bug_type: 8 }  // https://api.juejin.cn/user_api/v1/bugfix/collect?aid=2608&amp;uuid=7069996992693732879  if(bugs.err_no !== 0) return console.warn('bugs获取失败');  const total = bugs.data.length;  let count = 0;  console.log(`发现${total} 个bug, 准备清除中...`)  for(let bug of bugs.data) {    const dt =  { bug_time:  bug.bug_time, bug_type:  bug.bug_type  };    const collectRes = HTTP.fetch('https://api.juejin.cn/user_api/v1/bugfix/collect', {      headers: {        cookie: JUEJIN_COOKIE      },      method: 'POST',      credentials: 'include',      body: JSON.stringify(dt)    });    const collect = collectRes.json();    if(collect.err_no === 0) {      count++;    }  }  console.log(`收集bug成功: ${count}, 失败: ${total - count}`);}// 签到(async () =&gt; {  // 查询今日是否已经签到  const today_status = await HTTP.fetch('https://api.juejin.cn/growth_api/v1/get_today_status', {    headers: {      cookie: JUEJIN_COOKIE    },    method: 'GET',    credentials: 'include'  }).then(res =&gt; res.json());  if (today_status.err_no !== 0) return console.warn('签到失败！');  if (today_status.data) {    console.log('今日已经签到！');    await drawFn();    await dipLucky();    // await bugFix();    return;  }  // 签到  const check_in = await HTTP.fetch('https://api.juejin.cn/growth_api/v1/check_in', {    headers: {      cookie: JUEJIN_COOKIE    },    method: 'POST',    credentials: 'include'  }).then((res) =&gt; res.json());  if (check_in.err_no !== 0) return console.warn('签到失败！');  console.log(`签到成功！当前积分；${check_in.data.sum_point}`);  await drawFn();  await dipLucky()  // await bugFix();})();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>修改上面的JUEJIN_COOKIE从浏览器获得<br><img src="/../medias/featureimages/4.png"></p><h2 id="四、运行脚本"><a href="#四、运行脚本" class="headerlink" title="四、运行脚本"></a>四、运行脚本</h2><p><img src="/../medias/featureimages/5.png"><br>确认出现“执行完毕”字样，否则看提示错误信息。</p><h2 id="五、添加定时"><a href="#五、添加定时" class="headerlink" title="五、添加定时"></a>五、添加定时</h2><p><img src="/../medias/featureimages/6.png"><br>这里选择你创建的对应脚本</p><h2 id="后续会加入邮箱提示功能"><a href="#后续会加入邮箱提示功能" class="headerlink" title="后续会加入邮箱提示功能"></a>后续会加入邮箱提示功能</h2>]]></content>
      
      
      <categories>
          
          <category> 编程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 脚本 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>推荐文章</title>
      <link href="/2023/07/11/tui-jian-wen-zhang/"/>
      <url>/2023/07/11/tui-jian-wen-zhang/</url>
      
        <content type="html"><![CDATA[<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>今天天气不错</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>推荐文章</title>
      <link href="/2023/07/11/tui-jian-wen-zhang-1/"/>
      <url>/2023/07/11/tui-jian-wen-zhang-1/</url>
      
        <content type="html"><![CDATA[<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>今天天气不错</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>测试一下</title>
      <link href="/2023/07/10/ce-shi-yi-xia/"/>
      <url>/2023/07/10/ce-shi-yi-xia/</url>
      
        <content type="html"><![CDATA[<p>good morning</p>]]></content>
      
      
      <categories>
          
          <category> 测试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 测试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2023/07/10/hello-world/"/>
      <url>/2023/07/10/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo generate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
